/*global jQuery, console, document, basketProducts*/
/*eslint-disable no-unused-vars */

var accessArray, prevGrilleCost;
accessArray = [];

/* RETURN STRING DENOTING COMPATIBLE ACCESSORIES WITH SELECTED PRODUCT MODELS */
function getAccessCompatString() {
    'use strict';
    var i, compatString;
    compatString = "";

    for (i = 0; i < basketProducts.length; i += 1) {

        if (basketProducts[i].includes('Natural Convection')) {
            if (!basketProducts[i].includes('1')) { compatString = compatString + '1'; }
        }

        if (basketProducts[i].includes('Fan-Assisted Convection')) {
            if (!basketProducts[i].includes('2')) { compatString = compatString + '2'; }
        }

        if (basketProducts[i].includes('Electric')) {
            if (!basketProducts[i].includes('3')) { compatString = compatString + '3'; }
        }

        if (basketProducts[i].includes('Heating and Cooling')) {
            if (!basketProducts[i].includes('4')) { compatString = compatString + '4'; }
        }

        if (compatString.length === 4) { break; }

    }

    return compatString;

}

/* GET ALL COMPATABLE ACCESSORIES WITH SELECT PRODUCTS */
function getAccessories() { // eslint-disable-line no-unused-vars
    'use strict';
    jQuery.ajax({

        type: "GET",
        url: //URL,
        data: "compatIndexes=" + getAccessCompatString(),
        success: function (result) {

            document.getElementById("access").innerHTML = result;

        },
        error: function (data) {
            /* eslint-disable no-console */
            console.error("GETTING ACCESSORIES ERROR: " + data);
            /* eslint-disable no-console */
        }
    });

}

/* STORE CHOSEN ACCESSORIES */
function storeAccess(accessSelect) { // eslint-disable-line no-unused-vars
    'use strict';
    var i, accessCount;

    accessCount = 0;
    accessArray = [];
    for (i = 0; i < accessSelect.options.length; i += 1) {

        if (accessSelect.options.length < accessCount) { //IF ACCESSORY REMOVED

            accessArray.splice(i, 1, "");

        } else {

            accessArray[i] = accessSelect.options[i].text;

        }

    }

}
